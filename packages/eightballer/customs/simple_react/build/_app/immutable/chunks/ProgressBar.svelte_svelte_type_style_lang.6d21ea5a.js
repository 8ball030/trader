import{a as A,t as C}from"./index.426f747d.js";import{M as D,W as U,v as N,X as Q}from"./scheduler.0a765e4d.js";import{w as O,r as V}from"./index.dece9ec6.js";function Y(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function j(e,a){C(e,1,1,()=>{a.delete(e.key)})}function k(e,a){e.f(),j(e,a)}function F(e,a,i,d,g,n,t,c,o,u,m,M){let r=e.length,w=n.length,h=r;const v={};for(;h--;)v[e[h].key]=h;const _=[],S=new Map,T=new Map,z=[];for(h=w;h--;){const s=M(g,n,h),l=i(s);let f=t.get(l);f?d&&z.push(()=>f.p(s,a)):(f=u(l,s),f.c()),S.set(l,_[h]=f),l in v&&T.set(l,Math.abs(h-v[l]))}const E=new Set,x=new Set;function b(s){A(s,1),s.m(c,m),t.set(s.key,s),m=s.first,w--}for(;r&&w;){const s=_[w-1],l=e[r-1],f=s.key,p=l.key;s===l?(m=s.first,r--,w--):S.has(p)?!t.has(f)||E.has(f)?b(s):x.has(p)?r--:T.get(f)>T.get(p)?(x.add(f),b(s)):(E.add(p),r--):(o(l,t),r--)}for(;r--;){const s=e[r];S.has(s.key)||o(s,t)}for(;w;)b(_[w-1]);return D(z),_}const q={message:"Missing Toast Message",autohide:!0,timeout:5e3},P="toastStore";function G(){const e=U(P);if(!e)throw new Error("toastStore is not initialized. Please ensure that `initializeStores()` is invoked in the root layout file of this app!");return e}function Z(){const e=H();return N(P,e)}function B(){const e=Math.random();return Number(e).toString(32)}function H(){const{subscribe:e,set:a,update:i}=O([]),d=n=>i(t=>{if(t.length>0){const c=t.findIndex(u=>u.id===n),o=t[c];o&&(o.callback&&o.callback({id:n,status:"closed"}),o.timeoutId&&clearTimeout(o.timeoutId),t.splice(c,1))}return t});function g(n){if(n.autohide===!0)return setTimeout(()=>{d(n.id)},n.timeout)}return{subscribe:e,close:d,trigger:n=>{const t=B();return i(c=>{n&&n.callback&&n.callback({id:t,status:"queued"}),n.hideDismiss&&(n.autohide=!0);const o={...q,...n,id:t};return o.timeoutId=g(o),c.push(o),c}),t},freeze:n=>i(t=>(t.length>0&&clearTimeout(t[n].timeoutId),t)),unfreeze:n=>i(t=>(t.length>0&&(t[n].timeoutId=g(t[n])),t)),clear:()=>a([])}}const y={};function L(e){return e==="local"?localStorage:sessionStorage}function I(e,a,i){const d=(i==null?void 0:i.serializer)??JSON,g=(i==null?void 0:i.storage)??"local";function n(t,c){L(g).setItem(t,d.stringify(c))}if(!y[e]){const t=O(a,u=>{const m=L(g).getItem(e);m&&u(d.parse(m));{const M=r=>{r.key===e&&u(r.newValue?d.parse(r.newValue):null)};return window.addEventListener("storage",M),()=>window.removeEventListener("storage",M)}}),{subscribe:c,set:o}=t;y[e]={set(u){n(e,u),o(u)},update(u){const m=u(Q(t));n(e,m),o(m)},subscribe:c}}return y[e]}I("modeOsPrefers",!1);I("modeUserPrefers",void 0);I("modeCurrent",!1);const R="(prefers-reduced-motion: reduce)";function J(){return window.matchMedia(R).matches}const $=V(J(),e=>{{const a=d=>{e(d.matches)},i=window.matchMedia(R);return i.addEventListener("change",a),()=>{i.removeEventListener("change",a)}}});export{Y as e,k as f,G as g,Z as i,$ as p,F as u};
